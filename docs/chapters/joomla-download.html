<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>@CHAPTER@ JoomlaDownloadTask</title>
        <link rel="stylesheet" type="text/css" href="../css/book.css">
    </head>
    <body>
        <div class="sect1">
            <div class="titlepage">
                <div>
                    <div><h2 class="title" style="clear: both"><a name="JoomlaDownloadTask"></a>@CHAPTER@ JoomlaDownloadTask</h2></div>
                </div>
            </div>

            <p>Downloads the specified Joomla! version. The tarball is stored in a cache for reuse.</p>

            <p>The version can be specified as a (partial) version number or a branch of the official Joomla!
                repository.</p>

            <p>This task expects a <code class="literal">versions.json</code> file containing information about where to find
                the packages on GitHub. That file is created using the <a href="#JoomlaVersionsTask"><code class="literal">JoomlaVersionsTask</code></a>.</p>

            <div class="table">

                <p class="formal-object-title"><span class="label">Table @CHAPTER@.1:&nbsp;</span><span class="title">Attributes</span></p>

                <div class="table-contents">

                    <table summary="Attributes" border="1">
                        <colgroup>
                            <col class="name">
                            <col class="type">
                            <col class="description">
                            <col class="default">
                            <col class="required">
                        </colgroup>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Default</th>
                                <th>Required</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code class="literal">version</code></td>
                                <td><code class="literal">String</code></td>
                                <td>The requested Joomla! version.</td>
                                <td>'<code class="literal">latest</code>'</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><code class="literal">versionFile</code></td>
                                <td><code class="literal">String</code></td>
                                <td>The file with information about tarball locations.</td>
                                <td>'<code class="literal">versions.json</code>'</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><code class="literal">cachePath</code></td>
                                <td><code class="literal">String</code></td>
                                <td>The directory to store the tarball.</td>
                                <td>'<code class="literal">build</code>'</td>
                                <td>No</td>
                            </tr>
                            <tr>
                                <td><code class="literal">returnProperty</code></td>
                                <td><code class="literal">String</code></td>
                                <td>Property name to set return value to.</td>
                                <td>n/a</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td><code class="literal">override</code></td>
                                <td><code class="literal">Boolean</code></td>
                                <td>Whether to force override of existing value.</td>
                                <td>False</td>
                                <td>No</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <br class="table-break">

            <div class="sect2">
                <div class="titlepage">
                    <div>
                        <div><h3 class="title">@CHAPTER@.1 Example</h3></div>
                    </div>
                </div>

            <pre class="programlisting">
&lt;!-- Get available Joomla! versions --&gt;
&lt;joomla-versions versionFile="cache/versions.json"/&gt;

&lt;!-- Download the latest stable 3.x.x version of Joomla! --&gt;
&lt;joomla-download
    version="3"
    versionFile="cache/versions.json"
    cachePath="cache"
    returnProperty="tarball"/&gt;

&lt;!-- Unpack the tarball to the web root --&gt;
&lt;untar todir="/var/www/html" file="${tarball}"/&gt;
</pre>
            </div>
        </div>
    </body>
</html>
